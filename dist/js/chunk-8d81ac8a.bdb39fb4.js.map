{"version":3,"sources":["webpack:///./src/api/my/index.js","webpack:///./src/api/cart/index.js","webpack:///./src/views/cart/buy/index.vue?ac25","webpack:///./src/views/cart/buy/index.vue?ccba","webpack:///src/views/cart/buy/index.vue","webpack:///./src/views/cart/buy/index.vue?374d","webpack:///./src/views/cart/buy/index.vue"],"names":["getListAction","data","axios","url","detailAction","saveAction","method","deleteAction","submitAction","listAction","addCollect","cartList","addCart","detailaction","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","item","key","id","img_url","_m","_v","_s","info","name","goods_brief","retail_price","on","showCard","value","domProps","goods_desc","question","answer","$event","goBuy","list_pic_url","collected","goCart","goods","length","goOrder","model","callback","$$v","show","expression","primary_pic_url","reduce","num","add","staticRenderFns","gallery","attribute","issue","productList","orderList","watch","$route","init","methods","query","openId","localStorage","getItem","goodsId","$router","push","number","setItem","JSON","stringify","created","component"],"mappings":"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","file":"js/chunk-8d81ac8a.bdb39fb4.js","sourcesContent":["import axios from \"../index\";\r\n\r\n//获取地址列表\r\nfunction getListAction(data) {\r\n  return axios({\r\n    url: \"address/getListAction\",\r\n    data,\r\n  });\r\n}\r\n// 获取地址详细信息\r\nfunction detailAction(data) {\r\n  return axios({\r\n    url: \"address/detailAction\",\r\n    data,\r\n  });\r\n}\r\n//新增或修改地址\r\nfunction saveAction(data) {\r\n  return axios({\r\n    url: \"address/saveAction\",\r\n    method: \"POST\",\r\n    data,\r\n  });\r\n}\r\n//删除地址\r\nfunction deleteAction(data) {\r\n  return axios({\r\n    url: \"address/deleteAction\",\r\n    data,\r\n  });\r\n}\r\n//提交意见反馈\r\nfunction submitAction(data) {\r\n  return axios({\r\n    url: \"feedback/submitAction\",\r\n    method: \"POST\",\r\n    data,\r\n  });\r\n}\r\n// 我的收藏\r\nfunction listAction(data) {\r\n  return axios({\r\n    url: \"collect/listAction\",\r\n    data,\r\n  });\r\n}\r\n//添加收藏\r\nfunction addCollect(data) {\r\n  return axios({\r\n    url: \"collect/addcollect\",\r\n    method: \"POST\",\r\n    // headers: {\r\n    //   \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n    // },\r\n    data,\r\n  });\r\n}\r\nexport {\r\n  getListAction,\r\n  detailAction,\r\n  saveAction,\r\n  deleteAction,\r\n  submitAction,\r\n  listAction,\r\n  addCollect,\r\n};\r\n","import axios from \"../index\";\r\n\r\n// 购物车列表\r\nfunction cartList(data) {\r\n  return axios({\r\n    url: \"cart/cartList\",\r\n    data,\r\n  });\r\n}\r\n//删除商品\r\nfunction deleteAction(data) {\r\n  return axios({\r\n    url: \"cart/deleteAction\",\r\n    data,\r\n  });\r\n}\r\n//添加商品 请求头格式更改\r\nfunction addCart(data) {\r\n  return axios({\r\n    url: \"cart/addCart\",\r\n    method: \"POST\",\r\n    data,\r\n  });\r\n}\r\n// 商品详情\r\nfunction detailaction(data) {\r\n  return axios({\r\n    url: \"goods/detailaction\",\r\n    data,\r\n  });\r\n}\r\n//获取订单页面数据\r\nfunction detailAction(data) {\r\n  return axios({\r\n    url: \"order/detailAction\",\r\n    data,\r\n  });\r\n}\r\nexport { detailaction, cartList, deleteAction, addCart, detailAction };\r\n","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=56212e2b&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"buy\"},[_c('van-swipe',{staticClass:\"my-swipe\",attrs:{\"autoplay\":3000,\"indicator-color\":\"white\"}},_vm._l((_vm.gallery),function(item){return _c('van-swipe-item',{key:item.id},[_c('img',{attrs:{\"src\":item.img_url,\"alt\":\"\"}})])}),1),_vm._m(0),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"price\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.info.name))]),_c('p',[_vm._v(_vm._s(_vm.info.goods_brief))]),_c('span',[_vm._v(\"￥\"+_vm._s(_vm.info.retail_price))])]),_c('div',{staticClass:\"choice\"},[_vm._v(\"请选择规格参数 \"),_c('span',{on:{\"click\":_vm.showCard}},[_vm._v(\"＞\")])])]),_c('div',{staticClass:\"attribute\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"商品参数\")]),_c('ul',{staticClass:\"list\"},_vm._l((_vm.attribute),function(item){return _c('li',{key:item.id,staticClass:\"item\"},[_c('div',[_vm._v(_vm._s(item.name))]),_c('p',[_vm._v(_vm._s(item.value))])])}),0)]),_c('div',{staticClass:\"desc\",domProps:{\"innerHTML\":_vm._s(_vm.goods_desc)}}),_c('div',{staticClass:\"question\"},[_vm._m(1),_c('div',{staticClass:\"issue\"},_vm._l((_vm.issue),function(item){return _c('div',{key:item.id},[_c('div',{staticClass:\"question\"},[_c('span',[_vm._v(\"·\")]),_vm._v(\" \"+_vm._s(item.question))]),_c('div',{staticClass:\"answer\"},[_vm._v(\" \"+_vm._s(item.answer)+\" \")])])}),0)]),_c('div',{staticClass:\"productList\"},[_vm._m(2),_c('ul',{staticClass:\"list\"},_vm._l((_vm.productList),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.goBuy(item.id)}}},[_c('img',{attrs:{\"src\":item.list_pic_url,\"alt\":\"\"}}),_c('div',[_c('p',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(\"￥\"+_vm._s(item.retail_price))])])])}),0)]),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"collect item\",on:{\"click\":_vm.addCollect}},[_c('van-icon',{attrs:{\"name\":\"star-o\",\"size\":\"26px\",\"color\":this.collected ? '#FFBA15' : '#eee'}})],1),_c('div',{staticClass:\"cart item\",on:{\"click\":_vm.goCart}},[_c('van-icon',{attrs:{\"name\":\"cart-o\",\"color\":\"#b4282d\",\"size\":\"26px\",\"badge\":_vm.goods.length}})],1),_c('div',{staticClass:\"pay item\",on:{\"click\":_vm.goOrder}},[_vm._v(\"立即购买\")]),_c('div',{staticClass:\"addCart item\",on:{\"click\":_vm.showCard}},[_vm._v(\"加入购物车\")])]),_c('van-action-sheet',{attrs:{\"title\":\"选择参数\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"logo\"},[_c('img',{attrs:{\"src\":_vm.info.primary_pic_url,\"alt\":\"\"}})]),_c('div',{staticClass:\"info\"},[_c('p',{staticClass:\"price\"},[_vm._v(\"价格￥\"+_vm._s(_vm.info.retail_price))]),_c('p',[_vm._v(\"请选择数量\")])])]),_c('p',[_vm._v(\"数量\")]),_c('div',{staticClass:\"num\"},[_c('button',{on:{\"click\":_vm.reduce}},[_vm._v(\"-\")]),_c('button',{staticClass:\"small\"},[_vm._v(_vm._s(_vm.num))]),_c('button',{on:{\"click\":_vm.add}},[_vm._v(\"+\")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tip\"},[_c('div',[_vm._v(\"30天无忧退货\")]),_c('div',[_vm._v(\"48小时快速退款\")]),_c('div',[_vm._v(\"满88元免邮费\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('div'),_c('p',[_vm._v(\"常见问题\")]),_c('div')])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"title\"},[_c('div'),_c('p',[_vm._v(\"大家都在看\")]),_c('div')])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"buy\">\r\n    <!-- //轮播图 -->\r\n    <van-swipe class=\"my-swipe\" :autoplay=\"3000\" indicator-color=\"white\">\r\n      <van-swipe-item v-for=\"item in gallery\" :key=\"item.id\">\r\n        <img :src=\"item.img_url\" alt=\"\" />\r\n      </van-swipe-item>\r\n    </van-swipe>\r\n\r\n    <!-- tip标签 -->\r\n    <div class=\"tip\">\r\n      <div>30天无忧退货</div>\r\n      <div>48小时快速退款</div>\r\n      <div>满88元免邮费</div>\r\n    </div>\r\n\r\n    <!-- 购买信息 -->\r\n    <div class=\"info\">\r\n      <div class=\"price\">\r\n        <div class=\"title\">{{ info.name }}</div>\r\n        <p>{{ info.goods_brief }}</p>\r\n        <span>￥{{ info.retail_price }}</span>\r\n      </div>\r\n      <div class=\"choice\">请选择规格参数 <span @click=\"showCard\">＞</span></div>\r\n    </div>\r\n\r\n    <!-- 商品参数 -->\r\n    <div class=\"attribute\">\r\n      <div class=\"title\">商品参数</div>\r\n      <ul class=\"list\">\r\n        <li class=\"item\" v-for=\"item in attribute\" :key=\"item.id\">\r\n          <div>{{ item.name }}</div>\r\n          <p>{{ item.value }}</p>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 描述图片 -->\r\n    <div v-html=\"goods_desc\" class=\"desc\"></div>\r\n    <!-- 常见问题 -->\r\n    <div class=\"question\">\r\n      <div class=\"title\">\r\n        <div></div>\r\n        <p>常见问题</p>\r\n        <div></div>\r\n      </div>\r\n      <div class=\"issue\">\r\n        <div v-for=\"item in issue\" :key=\"item.id\">\r\n          <div class=\"question\"><span>·</span> {{ item.question }}</div>\r\n          <div class=\"answer\">\r\n            {{ item.answer }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 商品列表 -->\r\n    <div class=\"productList\">\r\n      <div class=\"title\">\r\n        <div></div>\r\n        <p>大家都在看</p>\r\n        <div></div>\r\n      </div>\r\n      <ul class=\"list\">\r\n        <li v-for=\"item in productList\" :key=\"item.id\" @click=\"goBuy(item.id)\">\r\n          <img :src=\"item.list_pic_url\" alt=\"\" />\r\n          <div>\r\n            <p>{{ item.name }}</p>\r\n            <span>￥{{ item.retail_price }}</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <!-- 加入购物车 -->\r\n    <div class=\"footer\">\r\n      <div class=\"collect item\" @click=\"addCollect\">\r\n        <van-icon\r\n          name=\"star-o\"\r\n          size=\"26px\"\r\n          :color=\"this.collected ? '#FFBA15' : '#eee'\"\r\n        />\r\n      </div>\r\n      <div class=\"cart item\" @click=\"goCart\">\r\n        <van-icon\r\n          name=\"cart-o\"\r\n          color=\"#b4282d\"\r\n          size=\"26px\"\r\n          :badge=\"goods.length\"\r\n        />\r\n      </div>\r\n      <div class=\"pay item\" @click=\"goOrder\">立即购买</div>\r\n      <div class=\"addCart item\" @click=\"showCard\">加入购物车</div>\r\n    </div>\r\n\r\n    <!-- 购买卡片 -->\r\n    <van-action-sheet v-model=\"show\" title=\"选择参数\">\r\n      <div class=\"main\">\r\n        <div class=\"top\">\r\n          <div class=\"logo\">\r\n            <img :src=\"info.primary_pic_url\" alt=\"\" />\r\n          </div>\r\n          <div class=\"info\">\r\n            <p class=\"price\">价格￥{{ info.retail_price }}</p>\r\n            <p>请选择数量</p>\r\n          </div>\r\n        </div>\r\n        <p>数量</p>\r\n        <div class=\"num\">\r\n          <button @click=\"reduce\">-</button>\r\n          <button class=\"small\">{{ num }}</button>\r\n          <button @click=\"add\">+</button>\r\n        </div>\r\n      </div>\r\n    </van-action-sheet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\";\r\nimport { detailaction, addCart, cartList } from \"../../../api/cart\";\r\nimport { addCollect } from \"../../../api/my\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      gallery: [],\r\n      info: {},\r\n      attribute: [],\r\n      goods_desc: \"\",\r\n      issue: [],\r\n      productList: [],\r\n      id: \"\",\r\n      collected: \"\",\r\n      orderList: [],\r\n      // 添加数量\r\n      num: 1,\r\n      show: false,\r\n      // 购物车数量\r\n      goods: [],\r\n    };\r\n  },\r\n  //响应路由会复用原来组件,生命周期钩子函数不会被调用,可以用watch监听变化,做出响应\r\n  watch: {\r\n    $route(to, from) {\r\n      // console.log(to, from);\r\n      this.init();\r\n    },\r\n  },\r\n  methods: {\r\n    // 初始化\r\n    init() {\r\n      this.id = this.$route.query.id;\r\n      const openId = localStorage.getItem(\"openId\");\r\n      detailaction({ id: this.id, openId: openId }).then((res) => {\r\n        this.collected = res.data.collected;\r\n        this.gallery = res.data.gallery;\r\n        this.info = res.data.info;\r\n        this.attribute = res.data.attribute;\r\n        this.goods_desc = res.data.info.goods_desc;\r\n        this.productList = res.data.productList;\r\n        this.issue = res.data.issue;\r\n      });\r\n\r\n      // 购物车数量\r\n      cartList({\r\n        openId: localStorage.getItem(\"openId\"),\r\n      }).then((res) => {\r\n        this.goods = res.data.data;\r\n        this.number = res.data.data.length;\r\n      });\r\n    },\r\n    // 添加到收藏\r\n    addCollect() {\r\n      addCollect({\r\n        goodsId: this.id,\r\n        openId: localStorage.getItem(\"openId\"),\r\n      }).then((res) => {\r\n        if (!this.collected) {\r\n          Toast.success(\"收藏成功!\");\r\n          this.collected = !this.collected;\r\n        } else {\r\n          Toast.fail(\"取消收藏!\");\r\n          this.collected = !this.collected;\r\n        }\r\n      });\r\n    },\r\n    //跳转到购物车\r\n    goCart() {\r\n      this.$router.push(\"/cart\");\r\n    },\r\n    // 组件复用,生命周期钩子函数不会被调用,需要用watch监听做出响应\r\n    goBuy(id) {\r\n      this.$router.push({ name: \"buy\", query: { id } });\r\n    },\r\n    //显示购买卡片 加入购物车\r\n    showCard() {\r\n      // 有卡片进行添加,否则打开卡片\r\n      if (this.show) {\r\n        addCart({\r\n          goodsId: this.id,\r\n          number: this.num,\r\n          openId: localStorage.getItem(\"openId\"),\r\n        }).then(\r\n          (res) => {\r\n            Toast.success(\"添加成功!\");\r\n            setTimeout(() => {\r\n              this.init();\r\n            }, 500);\r\n          },\r\n          () => {\r\n            Toast.fail(\"添加失败!\");\r\n          }\r\n        );\r\n      }\r\n      this.show = !this.show;\r\n    },\r\n\r\n    //减少\r\n    reduce() {\r\n      if (this.num > 1) {\r\n        this.num--;\r\n      } else {\r\n        this.show = false;\r\n      }\r\n    },\r\n    add() {\r\n      this.num++;\r\n    },\r\n    goOrder() {\r\n      //如果购买卡片存在  跳转到支付页面\r\n      if (this.show) {\r\n        const price = this.info.retail_price * this.num;\r\n        //把当前商品信息存放如数组,保存在本地存储中\r\n        // 下单页面取出数组进行渲染\r\n        this.orderList.push(this.info);\r\n        localStorage.setItem(\"orderList\", JSON.stringify(this.orderList));\r\n        this.$router.push({\r\n          name: \"order\",\r\n          query: { price, number: this.num },\r\n        });\r\n      }\r\n      this.show = !this.show;\r\n    },\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.buy {\r\n  background-color: #eee;\r\n  .my-swipe {\r\n    height: 375px;\r\n    img {\r\n      width: 100%;\r\n    }\r\n    margin-bottom: 0;\r\n  }\r\n  .tip {\r\n    margin-top: 0;\r\n    display: flex;\r\n    justify-content: space-around;\r\n    color: #666;\r\n    font-size: 12px;\r\n    padding: 15px 0 25px;\r\n    div {\r\n      position: relative;\r\n      height: 16px;\r\n      line-height: 16px;\r\n    }\r\n    div::before {\r\n      position: absolute;\r\n      top: 50%;\r\n      left: -10px;\r\n      transform: translateY(-50%);\r\n      content: \"\";\r\n      width: 5px;\r\n      height: 5px;\r\n      box-sizing: border-box;\r\n      border-radius: 50%;\r\n      display: block;\r\n      border: 1px solid rgb(147, 0, 0);\r\n    }\r\n  }\r\n\r\n  // 信息\r\n  .info {\r\n    background-color: #fff;\r\n    .price {\r\n      margin-bottom: 20px;\r\n      .title {\r\n        font-size: 20px;\r\n        padding: 10px;\r\n      }\r\n      p {\r\n        color: #999;\r\n        font-size: 12px;\r\n        padding-bottom: 12px;\r\n      }\r\n      span {\r\n        font-size: 17px;\r\n        color: #b4282d;\r\n      }\r\n    }\r\n    .choice {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      padding: 20px 10px;\r\n      border-top: 1px solid #eee;\r\n    }\r\n  }\r\n\r\n  // 商品参数\r\n  .attribute {\r\n    margin: 10px auto;\r\n    background-color: #fff;\r\n    padding: 10px;\r\n    text-align: left;\r\n    .title {\r\n      font-size: 20px;\r\n      padding: 10px 0;\r\n    }\r\n    .list {\r\n      li {\r\n        display: flex;\r\n        justify-content: start;\r\n        background-color: #eee;\r\n        width: 90%;\r\n        margin: 0 auto;\r\n        align-items: center;\r\n        font-size: 12px;\r\n        margin-bottom: 10px;\r\n        div {\r\n          flex-shrink: 0;\r\n          display: block;\r\n          width: 100px;\r\n          color: #999;\r\n        }\r\n        p {\r\n          text-overflow: ellipsis;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  ::v-deep .desc {\r\n    p {\r\n      margin: 0;\r\n      margin-top: -4px;\r\n    }\r\n    img {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n  }\r\n  .question {\r\n    background-color: #fff;\r\n    .title {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      div {\r\n        width: 70px;\r\n        height: 2px;\r\n        background-color: #eee;\r\n      }\r\n      p {\r\n        padding: 0 5px;\r\n      }\r\n    }\r\n    .issue {\r\n      padding: 15px;\r\n      text-align: left;\r\n      .question {\r\n        display: flex;\r\n        align-items: center;\r\n        span {\r\n          font-size: 30px;\r\n          color: #b4282d;\r\n        }\r\n      }\r\n      .answer {\r\n        padding-left: 10px;\r\n        color: #787878;\r\n        line-height: 16px;\r\n      }\r\n    }\r\n  }\r\n  .productList {\r\n    margin-top: 15px;\r\n    .title {\r\n      background-color: #fff;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      div {\r\n        width: 70px;\r\n        height: 1px;\r\n        background-color: #eee;\r\n      }\r\n      p {\r\n        padding: 0 5px;\r\n      }\r\n    }\r\n    .list {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      flex-wrap: wrap;\r\n      text-align: left;\r\n      li {\r\n        width: 49%;\r\n        background-color: #fff;\r\n        margin-bottom: 5px;\r\n        img {\r\n          width: 100%;\r\n        }\r\n        div {\r\n          padding: 0 15px;\r\n          p {\r\n            font-size: 12px;\r\n          }\r\n          span {\r\n            font-size: 12px;\r\n            color: #b4282d;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .footer {\r\n    z-index: 9999;\r\n    position: fixed;\r\n    left: 0;\r\n    bottom: 0;\r\n    width: 100%;\r\n    height: 50px;\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    .item {\r\n      width: 25%;\r\n      height: 100%;\r\n      line-height: 50px;\r\n      box-sizing: border-box;\r\n      border: 1px solid #eee;\r\n    }\r\n    .collect {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n    .cart {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n    }\r\n    .addCart {\r\n      color: #fff;\r\n      background-color: #b4282d;\r\n      border: 0;\r\n    }\r\n  }\r\n\r\n  // 购物卡片\r\n  ::v-deep .van-popup--bottom.van-popup--round {\r\n    bottom: 50px;\r\n    border-radius: 0;\r\n  }\r\n  .main {\r\n    padding: 0 20px;\r\n    text-align: left;\r\n    .top {\r\n      display: flex;\r\n      img {\r\n        width: 88px;\r\n        height: 88px;\r\n      }\r\n      p {\r\n        padding-left: 10px;\r\n      }\r\n      .price {\r\n        color: #b4282d;\r\n      }\r\n    }\r\n    .num {\r\n      display: flex;\r\n      padding-bottom: 10px;\r\n      button {\r\n        display: block;\r\n        width: 28px;\r\n        height: 28px;\r\n        font-size: 18px;\r\n        margin-right: 3px;\r\n        background-color: #f2f3f5;\r\n        border: none;\r\n      }\r\n      .small {\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=56212e2b&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=56212e2b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"56212e2b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}