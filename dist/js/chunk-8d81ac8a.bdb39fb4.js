(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d81ac8a"],{"2e3b":function(t,i,e){},aac8:function(t,i,e){"use strict";e.d(i,"d",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"f",(function(){return c})),e.d(i,"b",(function(){return o})),e.d(i,"g",(function(){return r})),e.d(i,"e",(function(){return d})),e.d(i,"a",(function(){return u}));var s=e("365c");function a(t){return Object(s["a"])({url:"address/getListAction",data:t})}function n(t){return Object(s["a"])({url:"address/detailAction",data:t})}function c(t){return Object(s["a"])({url:"address/saveAction",method:"POST",data:t})}function o(t){return Object(s["a"])({url:"address/deleteAction",data:t})}function r(t){return Object(s["a"])({url:"feedback/submitAction",method:"POST",data:t})}function d(t){return Object(s["a"])({url:"collect/listAction",data:t})}function u(t){return Object(s["a"])({url:"collect/addcollect",method:"POST",data:t})}},ad9a:function(t,i,e){"use strict";e.d(i,"e",(function(){return o})),e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){return c})),e.d(i,"d",(function(){return r}));var s=e("365c");function a(t){return Object(s["a"])({url:"cart/cartList",data:t})}function n(t){return Object(s["a"])({url:"cart/deleteAction",data:t})}function c(t){return Object(s["a"])({url:"cart/addCart",method:"POST",data:t})}function o(t){return Object(s["a"])({url:"goods/detailaction",data:t})}function r(t){return Object(s["a"])({url:"order/detailAction",data:t})}},ce37:function(t,i,e){"use strict";e("2e3b")},ee44:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"buy"},[e("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},t._l(t.gallery,(function(t){return e("van-swipe-item",{key:t.id},[e("img",{attrs:{src:t.img_url,alt:""}})])})),1),t._m(0),e("div",{staticClass:"info"},[e("div",{staticClass:"price"},[e("div",{staticClass:"title"},[t._v(t._s(t.info.name))]),e("p",[t._v(t._s(t.info.goods_brief))]),e("span",[t._v("￥"+t._s(t.info.retail_price))])]),e("div",{staticClass:"choice"},[t._v("请选择规格参数 "),e("span",{on:{click:t.showCard}},[t._v("＞")])])]),e("div",{staticClass:"attribute"},[e("div",{staticClass:"title"},[t._v("商品参数")]),e("ul",{staticClass:"list"},t._l(t.attribute,(function(i){return e("li",{key:i.id,staticClass:"item"},[e("div",[t._v(t._s(i.name))]),e("p",[t._v(t._s(i.value))])])})),0)]),e("div",{staticClass:"desc",domProps:{innerHTML:t._s(t.goods_desc)}}),e("div",{staticClass:"question"},[t._m(1),e("div",{staticClass:"issue"},t._l(t.issue,(function(i){return e("div",{key:i.id},[e("div",{staticClass:"question"},[e("span",[t._v("·")]),t._v(" "+t._s(i.question))]),e("div",{staticClass:"answer"},[t._v(" "+t._s(i.answer)+" ")])])})),0)]),e("div",{staticClass:"productList"},[t._m(2),e("ul",{staticClass:"list"},t._l(t.productList,(function(i){return e("li",{key:i.id,on:{click:function(e){return t.goBuy(i.id)}}},[e("img",{attrs:{src:i.list_pic_url,alt:""}}),e("div",[e("p",[t._v(t._s(i.name))]),e("span",[t._v("￥"+t._s(i.retail_price))])])])})),0)]),e("div",{staticClass:"footer"},[e("div",{staticClass:"collect item",on:{click:t.addCollect}},[e("van-icon",{attrs:{name:"star-o",size:"26px",color:this.collected?"#FFBA15":"#eee"}})],1),e("div",{staticClass:"cart item",on:{click:t.goCart}},[e("van-icon",{attrs:{name:"cart-o",color:"#b4282d",size:"26px",badge:t.goods.length}})],1),e("div",{staticClass:"pay item",on:{click:t.goOrder}},[t._v("立即购买")]),e("div",{staticClass:"addCart item",on:{click:t.showCard}},[t._v("加入购物车")])]),e("van-action-sheet",{attrs:{title:"选择参数"},model:{value:t.show,callback:function(i){t.show=i},expression:"show"}},[e("div",{staticClass:"main"},[e("div",{staticClass:"top"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.info.primary_pic_url,alt:""}})]),e("div",{staticClass:"info"},[e("p",{staticClass:"price"},[t._v("价格￥"+t._s(t.info.retail_price))]),e("p",[t._v("请选择数量")])])]),e("p",[t._v("数量")]),e("div",{staticClass:"num"},[e("button",{on:{click:t.reduce}},[t._v("-")]),e("button",{staticClass:"small"},[t._v(t._s(t.num))]),e("button",{on:{click:t.add}},[t._v("+")])])])])],1)},a=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"tip"},[e("div",[t._v("30天无忧退货")]),e("div",[t._v("48小时快速退款")]),e("div",[t._v("满88元免邮费")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title"},[e("div"),e("p",[t._v("常见问题")]),e("div")])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"title"},[e("div"),e("p",[t._v("大家都在看")]),e("div")])}],n=(e("6fc3"),e("bc4a")),c=e("ad9a"),o=e("aac8"),r={data:function(){return{gallery:[],info:{},attribute:[],goods_desc:"",issue:[],productList:[],id:"",collected:"",orderList:[],num:1,show:!1,goods:[]}},watch:{$route:function(t,i){this.init()}},methods:{init:function(){var t=this;this.id=this.$route.query.id;var i=localStorage.getItem("openId");Object(c["e"])({id:this.id,openId:i}).then((function(i){t.collected=i.data.collected,t.gallery=i.data.gallery,t.info=i.data.info,t.attribute=i.data.attribute,t.goods_desc=i.data.info.goods_desc,t.productList=i.data.productList,t.issue=i.data.issue})),Object(c["b"])({openId:localStorage.getItem("openId")}).then((function(i){t.goods=i.data.data,t.number=i.data.data.length}))},addCollect:function(){var t=this;Object(o["a"])({goodsId:this.id,openId:localStorage.getItem("openId")}).then((function(i){t.collected?(n["a"].fail("取消收藏!"),t.collected=!t.collected):(n["a"].success("收藏成功!"),t.collected=!t.collected)}))},goCart:function(){this.$router.push("/cart")},goBuy:function(t){this.$router.push({name:"buy",query:{id:t}})},showCard:function(){var t=this;this.show&&Object(c["a"])({goodsId:this.id,number:this.num,openId:localStorage.getItem("openId")}).then((function(i){n["a"].success("添加成功!"),setTimeout((function(){t.init()}),500)}),(function(){n["a"].fail("添加失败!")})),this.show=!this.show},reduce:function(){this.num>1?this.num--:this.show=!1},add:function(){this.num++},goOrder:function(){if(this.show){var t=this.info.retail_price*this.num;this.orderList.push(this.info),localStorage.setItem("orderList",JSON.stringify(this.orderList)),this.$router.push({name:"order",query:{price:t,number:this.num}})}this.show=!this.show}},created:function(){this.init()}},d=r,u=(e("ce37"),e("4ac2")),l=Object(u["a"])(d,s,a,!1,null,"56212e2b",null);i["default"]=l.exports}}]);
//# sourceMappingURL=chunk-8d81ac8a.bdb39fb4.js.map