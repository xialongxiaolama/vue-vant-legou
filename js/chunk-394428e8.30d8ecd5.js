(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-394428e8","chunk-56db18da"],{"26ac":function(t,e,n){"use strict";n("a950")},"36d6":function(t,e,n){},"5d06":function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o}));var i=n("365c");function r(t){return Object(i["a"])({url:"search/clearhistoryAction",method:"post",data:t})}function c(t){return Object(i["a"])({url:"search/addhistoryaction",method:"post",data:t})}function a(t){return Object(i["a"])({url:"search/helperaction",data:t})}function o(t){return Object(i["a"])({url:"search/indexaction",data:t})}},8035:function(t,e,n){"use strict";n("36d6")},a950:function(t,e,n){},c13c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"goods"},[n("img",{attrs:{src:"http://yanxuan.nosdn.127.net/8976116db321744084774643a933c5ce.png",alt:""}}),n("div",{staticClass:"nav"},[n("p",{class:"default"==t.current?"active":"",on:{click:t.complex}},[t._v("综合")]),n("div",{staticClass:"sort",on:{click:function(e){return t.sort()}}},[n("span",{class:"price"==t.current?"active":""},[t._v(" 价格 ")]),n("div",[n("van-icon",{attrs:{name:"arrow-up",size:"6px",color:"price"==t.current?"#BD282D":""}}),n("van-icon",{attrs:{name:"arrow-down",size:"6px",color:"asc"==t.current?"#BD282D":""}})],1)]),n("p",{class:"sort"==t.current?"active":"",on:{click:t.classfy}},[t._v("分类")])]),n("ul",{staticClass:"info"},t._l(t.goodList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.goBuy(e.id)}}},[n("img",{attrs:{src:e.list_pic_url,alt:""}}),n("div",[n("h4",[t._v(t._s(e.name))]),n("span",[t._v("￥"+t._s(e.retail_price))])])])})),0)])},r=[],c=n("365c");function a(t){return Object(c["a"])({url:"goods/goodsList",data:t})}var o=n("5d06"),s={data:function(){return{goodList:[],current:"default",category:{}}},props:["keyword"],methods:{init:function(){var t=this;this.category=this.$route.query,this.category.order="default"==this.current||"sort"==this.current?"":"price"==this.current?"asc":"desc",this.keyword?Object(o["c"])({keyword:this.keyword,order:"default"==this.current||"sort"==this.current?"":"price"==this.current?"asc":"desc"}).then((function(e){t.goodList=e.data.keywords})):a(this.category).then((function(e){t.goodList=e.data.data}))},complex:function(){this.current="default",this.init()},sort:function(){"price"==this.current?(this.current="asc",this.init()):(this.current="price",this.init())},classfy:function(){this.current="sort",this.init()},goBuy:function(t){this.$router.push({name:"buy",query:{id:t}})}},created:function(){this.init()}},u=s,d=(n("8035"),n("4ac2")),l=Object(d["a"])(u,i,r,!1,null,"11bcca0d",null);e["default"]=l.exports},d2be:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"index"},[n("form",{attrs:{action:"/"}},[n("van-search",{attrs:{"show-action":"",placeholder:"商品搜索"},on:{input:function(e){return t.onSearch(t.value)},cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value="string"===typeof e?e.trim():e},expression:"value"}})],1),"default"==t.isShow?n("div",{staticClass:"box"},[n("div",{staticClass:"card"},[n("div",{staticClass:"title"},[n("p",[t._v("历史记录")]),n("p",{staticClass:"box",on:{click:t.clearhistory}})]),n("ul",t._l(t.historyData,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.jump(e.keyword)}}},[t._v(" "+t._s(e.keyword)+" ")])})),0)]),n("div",{staticClass:"card"},[t._m(0),n("ul",t._l(t.hotKeywordList,(function(e){return n("li",{key:e.id,class:e.keyword==t.defaultKeyword?"active":"",on:{click:function(n){return t.jump(e.keyword)}}},[t._v(" "+t._s(e.keyword)+" ")])})),0)])]):"search"==t.isShow?n("ul",{staticClass:"text"},t._l(t.dataList,(function(e){return n("li",{key:e.id,on:{click:function(n){return t.jump(e.name)}}},[t._v(" "+t._s(e.name)+" ")])})),0):n("div",{staticClass:"goods"},[n("goodlist",{attrs:{keyword:t.keyword}})],1)])},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("p",[t._v("热门搜索")])])}],c=(n("6fc3"),n("bc4a")),a=n("c13c"),o=n("5d06"),s={data:function(){return{value:"",dataList:[],detail:{},isShow:"default",defaultKeyword:"",hotKeywordList:[],historyData:[],keyword:""}},components:{goodlist:a["default"]},created:function(){this.init()},methods:{init:function(){var t=this;localStorage.getItem("openId");Object(o["d"])({openId:"66"}).then((function(e){t.defaultKeyword=e.data.defaultKeyword.keyword,t.historyData=e.data.historyData,t.hotKeywordList=e.data.hotKeywordList}))},clearhistory:function(){var t=this;Object(o["b"])({openId:localStorage.getItem("openId")}).then((function(e){Object(c["a"])("清除成功!"),t.init()}))},onSearch:function(t){var e=this;Object(o["c"])({keyword:t,order:""}).then((function(t){e.dataList=t.data.keywords})),this.isShow=""==t?"default":"search",this.init()},onCancel:function(){this.$router.go(-1)},jump:function(t){this.isShow="goods",this.keyword=t,Object(o["a"])({keyword:t,openId:localStorage.getItem("openId")})}}},u=s,d=(n("26ac"),n("4ac2")),l=Object(d["a"])(u,i,r,!1,null,"5bda07ec",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-394428e8.30d8ecd5.js.map