{"version":3,"sources":["webpack:///./src/api/home/search/index.js","webpack:///./src/views/home/goodlist/index.vue?ead7","webpack:///./src/views/home/goodlist/index.vue?f301","webpack:///./src/api/home/goodlist/index.js","webpack:///src/views/home/goodlist/index.vue","webpack:///./src/views/home/goodlist/index.vue?62a0","webpack:///./src/views/home/goodlist/index.vue"],"names":["clearhistoryAction","data","axios","url","method","addhistoryaction","helperaction","indexaction","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","class","current","on","complex","_v","$event","sort","classfy","_l","item","key","id","goBuy","list_pic_url","_s","name","retail_price","staticRenderFns","goodlist","goodList","category","props","methods","init","$route","query","order","keyword","then","$router","push","created","component"],"mappings":"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","file":"js/chunk-56db18da.14d93234.js","sourcesContent":["import axios from \"../../index\";\r\n\r\n// 清除搜索记录\r\nfunction clearhistoryAction(data) {\r\n  return axios({\r\n    url: \"search/clearhistoryAction\",\r\n    method: \"post\",\r\n    data,\r\n  });\r\n}\r\n// 添加搜索记录\r\nfunction addhistoryaction(data) {\r\n  return axios({\r\n    url: \"search/addhistoryaction\",\r\n    method: \"post\",\r\n    data,\r\n  });\r\n}\r\n//获得搜索数据\r\nfunction helperaction(data) {\r\n  return axios({\r\n    url: \"search/helperaction\",\r\n    data,\r\n  });\r\n}\r\n// 获取历史数据\r\nfunction indexaction(data) {\r\n  return axios({\r\n    url: \"search/indexaction\",\r\n    data,\r\n  });\r\n}\r\nexport { clearhistoryAction, addhistoryaction, helperaction, indexaction };\r\n","export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=11bcca0d&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('img',{attrs:{\"src\":\"http://yanxuan.nosdn.127.net/8976116db321744084774643a933c5ce.png\",\"alt\":\"\"}}),_c('div',{staticClass:\"nav\"},[_c('p',{class:_vm.current == 'default' ? 'active' : '',on:{\"click\":_vm.complex}},[_vm._v(\"综合\")]),_c('div',{staticClass:\"sort\",on:{\"click\":function($event){return _vm.sort()}}},[_c('span',{class:_vm.current == 'price' ? 'active' : ''},[_vm._v(\" 价格 \")]),_c('div',[_c('van-icon',{attrs:{\"name\":\"arrow-up\",\"size\":\"6px\",\"color\":_vm.current == 'price' ? '#BD282D' : ''}}),_c('van-icon',{attrs:{\"name\":\"arrow-down\",\"size\":\"6px\",\"color\":_vm.current == 'asc' ? '#BD282D' : ''}})],1)]),_c('p',{class:_vm.current == 'sort' ? 'active' : '',on:{\"click\":_vm.classfy}},[_vm._v(\"分类\")])]),_c('ul',{staticClass:\"info\"},_vm._l((_vm.goodList),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.goBuy(item.id)}}},[_c('img',{attrs:{\"src\":item.list_pic_url,\"alt\":\"\"}}),_c('div',[_c('h4',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(\"￥\"+_vm._s(item.retail_price))])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"../../index\";\r\n//获得分类商品列表\r\nfunction goodlist(data) {\r\n  return axios({\r\n    url: \"goods/goodsList\",\r\n    data,\r\n  });\r\n}\r\nexport { goodlist };\r\n","<template>\r\n  <div class=\"goods\">\r\n    <img\r\n      src=\"http://yanxuan.nosdn.127.net/8976116db321744084774643a933c5ce.png\"\r\n      alt=\"\"\r\n    />\r\n    <div class=\"nav\">\r\n      <p @click=\"complex\" :class=\"current == 'default' ? 'active' : ''\">综合</p>\r\n      <div class=\"sort\" @click=\"sort()\">\r\n        <span :class=\"current == 'price' ? 'active' : ''\"> 价格 </span>\r\n        <div>\r\n          <van-icon\r\n            name=\"arrow-up\"\r\n            size=\"6px\"\r\n            :color=\"current == 'price' ? '#BD282D' : ''\"\r\n          /><van-icon\r\n            name=\"arrow-down\"\r\n            size=\"6px\"\r\n            :color=\"current == 'asc' ? '#BD282D' : ''\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <p :class=\"current == 'sort' ? 'active' : ''\" @click=\"classfy\">分类</p>\r\n    </div>\r\n    <ul class=\"info\">\r\n      <li v-for=\"item in goodList\" :key=\"item.id\" @click=\"goBuy(item.id)\">\r\n        <img :src=\"item.list_pic_url\" alt=\"\" />\r\n        <div>\r\n          <h4>{{ item.name }}</h4>\r\n          <span>￥{{ item.retail_price }}</span>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { goodlist } from \"../../../api/home/goodlist/index\";\r\nimport { helperaction } from \"../../../api/home/search\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      goodList: [],\r\n      current: \"default\",\r\n      category: {},\r\n    };\r\n  },\r\n  props: [\"keyword\"],\r\n  methods: {\r\n    // 初始化加载页面\r\n    init() {\r\n      //查询分类id\r\n      this.category = this.$route.query;\r\n      this.category.order =\r\n        this.current == \"default\"\r\n          ? \"\"\r\n          : this.current == \"sort\"\r\n          ? \"\"\r\n          : this.current == \"price\"\r\n          ? \"asc\"\r\n          : \"desc\";\r\n      if (!this.keyword) {\r\n        // 查询参数\r\n        goodlist(this.category).then((res) => {\r\n          this.goodList = res.data.data;\r\n        });\r\n      } else {\r\n        helperaction({\r\n          keyword: this.keyword,\r\n          order:\r\n            this.current == \"default\"\r\n              ? \"\"\r\n              : this.current == \"sort\"\r\n              ? \"\"\r\n              : this.current == \"price\"\r\n              ? \"asc\"\r\n              : \"desc\",\r\n        }).then((res) => {\r\n          this.goodList = res.data.keywords;\r\n        });\r\n      }\r\n    },\r\n    // 点击综合排序\r\n    complex() {\r\n      this.current = \"default\";\r\n      this.init();\r\n    },\r\n    //点击价格 排序\r\n    sort() {\r\n      if (this.current == \"price\") {\r\n        this.current = \"asc\";\r\n        this.init();\r\n      } else {\r\n        this.current = \"price\";\r\n        this.init();\r\n      }\r\n    },\r\n    //点击分类\r\n    classfy() {\r\n      this.current = \"sort\";\r\n      this.init();\r\n    },\r\n    // 跳转到购买页面\r\n    goBuy(id) {\r\n      this.$router.push({ name: \"buy\", query: { id } });\r\n    },\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.goods {\r\n  background-color: #eee;\r\n  img {\r\n    width: 100%;\r\n  }\r\n  .nav {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    height: 40px;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    border-bottom: 1px solid #eee;\r\n    .sort {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      div {\r\n        margin-left: 5px;\r\n        display: flex;\r\n        flex-direction: column;\r\n      }\r\n    }\r\n    .active {\r\n      color: #bd282d;\r\n    }\r\n  }\r\n  .info {\r\n    display: flex;\r\n    margin-top: 10px;\r\n    flex-wrap: wrap;\r\n    justify-content: space-between;\r\n    background-color: #fff;\r\n    li {\r\n      padding-top: 10px;\r\n      width: 50%;\r\n      margin-bottom: 3px;\r\n      border-top: 2px solid #eee;\r\n      border-right: 2px solid #eee;\r\n      box-sizing: border-box;\r\n    }\r\n    img {\r\n      width: 150px;\r\n      height: 150px;\r\n    }\r\n    div {\r\n      h4 {\r\n        margin: 7px auto;\r\n        line-height: 16px;\r\n        font-size: 12px;\r\n      }\r\n      span {\r\n        display: block;\r\n        margin: 15px auto;\r\n        font-size: 15px;\r\n        line-height: 20px;\r\n        color: #b4282d;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=11bcca0d&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=11bcca0d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.7@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11bcca0d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}